# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

### NoDocs ###
GET   /docs/swagger-ui/*file        controllers.Assets.at(path:String="/public/lib/swagger-ui", file:String)

# Map static resources from the /public folder to the /assets URL path
### NoDocs ###
GET   /assets/*file                 controllers.Assets.versioned(path="/public", file: Asset)

# An example controller showing a sample home page

### NoDocs ###
GET     /                           controllers.HomeController.index


# Users and Authentication

###
#  summary: Authenticate user or service
#  description: Authenticates a user or a service
#  tags:
#    - Authentication
#  produces:
#    - application/json
#  parameters:
#    - in: formData
#      name: username
#      required: true
#      type: string
#      example: demouser1
#      default: demouser1
#      description: Username of the user or service
#    - in: formData
#      name: password
#      required: true
#      type: string
#      example: s3cretP4ssword
#      default: s3cretP4ssword
#      description: Password of the user or service
#  responses:
#    200:
#      description: OK
#    401:
#      description: Invalid username or password
###
GET     /login                    controllers.UsersController.login(request: Request)

# Toggles

###
#  summary: Creates a new permissionNode
#  description: Creates a new permissionNode with name "name" in the system, and value specified as the "value" field in the PUT request body.
#  tags:
#    - Toggles
#  produces:
#    - application/json
#  parameters:
#    - in: body
#      name: new_toggle_data
#      required: true
#      type: string
#      example: 1.0.0
#      default: 1.0.0
#      description: New permissionNode configuration
#    - in: formData
#      name: value
#      required: true
#      type: boolean
#      example: true
#      default: true
#      description: Name of the permissionNode to modify.
#  security:
#    - APIKeyQueryParam: []
#  responses:
#    200:
#       description: PermissionNode created
#    409:
#       description: A permissionNode with that name already exists
###
PUT     /permissionNodes                    controllers.TogglesController.create(request: Request)

###
#  summary: Get permissionNode value for a specific version of a service
#  description: Retrieves the value (true/false) of the permissionNode with name "name", when applied to version "version" of service "service"
#  tags:
#    - Toggles
#  parameters:
#    - in: path
#      name: name
#      required: true
#      type: string
#      example: isButtonBlue
#      default: isButtonBlue
#      description: Name of the permissionNode to retrieve.
#    - in: path
#      name: service
#      required: true
#      type: string
#      example: ABC
#      default: ABC
#      description: Unique name of the service
#    - in: path
#      name: version
#      required: true
#      type: string
#      example: 1.0.0
#      default: 1.0.0
#      description: Unique version of the service
#  responses:
#    200:
#      description: OK
#    404:
#      description: Service and/or version of service not found
###
GET     /permissionNodes/:name/:service/:version                    controllers.TogglesController.get(name: String, service: String, version: String)

###
#  summary: Set permissionNode value for a specific version of a service
#  description: Sets the value (true/false) of a permissionNode in the system, for a specific service
#  tags:
#    - Toggles
#  produces:
#    - application/json
#  parameters:
#    - in: path
#      name: name
#      required: true
#      type: string
#      example: isButtonBlue
#      default: isButtonBlue
#      description: Name of the permissionNode to modify.
#    - in: path
#      name: service
#      required: true
#      type: string
#      example: ABC
#      default: ABC
#      description: Name of the service to which the new value of the permissionNode will apply.
#    - in: formData
#      name: value
#      required: true
#      type: boolean
#      example: true
#      default: true
#      description: New value for the permissionNode
#  security:
#    - APIKeyQueryParam: []
#  responses:
#    200:
#       description: OK
#    404:
#       description: There is no permissionNode with that name
###
POST     /permissionNodes/:name/:service/:version                    controllers.TogglesController.set(request: Request, name: String, service: String, version: String)

###
#  summary: Delete permissionNode
#  description: Deletes the permissionNode with name "name" if it exists in the system, for all versions of all services.
#  tags:
#    - Toggles
#  produces:
#    - application/json
#  parameters:
#    - in: path
#      name: name
#      required: true
#      type: string
#      example: isButtonBlue
#      default: isButtonBlue
#      description: Name of the permissionNode to modify.
#  security:
#    - APIKeyQueryParam: []
#  responses:
#    200:
#       description: OK
#    404:
#       description: There is no permissionNode with that name
###
DELETE  /permissionNodes/:name                controllers.TogglesController.delete(name:String)

###
#  summary: Get all permissionNodes
#  description: Retrieves all permissionNodes present in the system
#  tags:
#    - Toggles
#  produces:
#    - application/json
#  security:
#    - APIKeyQueryParam: []
#  responses:
#    200:
#       description: OK
###
GET     /permissionNodes                    controllers.TogglesController.index()

###
#  summary: Edit service permissionNode configuration
#  description: Edits the permissionNodes (and respective values) available to each service version
#  tags:
#    - Configurations
#  produces:
#    - application/json
#  parameters:
#    - in: body
#      name: new_config
#      required: true
#      schema:
#        $ref: '#/definitions/Config'
#      description: The configuration for the permissionNodes and services that can access their value
#  responses:
#    200:
#      description: OK
#    403:
#      description: You have no permission to access this endpoint. Only Admins can retrieve this data.
#    404:
#      description: Service and/or version of service not found
#    400:
#      description: New service configuration is invalid
###
POST     /config                    controllers.ConfigsController.update(request: Request)


###
#  summary: Fetch configuration of all permissionNodes for all services and versions
#  description: Retrieves the configuration of all the permissionNodes (and respective values), for all services and versions
#  tags:
#    - Configurations
#  produces:
#    - application/json
#  responses:
#    200:
#      description: OK
#    403:
#      description: You have no permission to access this endpoint. Only Admins can retrieve this data.
#    404:
#      description: Service and/or version of service not found
#    400:
#      description: New service configuration is invalid
###
GET     /config                    controllers.ConfigsController.get()

###
#  summary: Fetch permissionNodes for service version
#  description: Fetch configuration of all permissionNodes for version "version" of a service "service_name",
#  tags:
#    - Services
#  produces:
#    - application/json
#  parameters:
#    - in: path
#      name: service_name
#      required: true
#      type: string
#      example: ABC
#      default: ABC
#      description: Name of the service for whom the current permissionNode configuration should be fetched
#    - in: path
#      name: version
#      required: true
#      type: string
#      example: ABC
#      default: ABC
#      description: Name of the service for whom the current permissionNode configuration should be fetched
#  responses:
#    200:
#      description: OK
#    403:
#      description: You have no permission to access this endpoint. Only Admins can retrieve this data.
#    404:
#      description: Service and/or version of service not found
#    400:
#      description: New service configuration is invalid
###
GET     /service/:service_name/:version                    controllers.ServicesController.get(service_name: String, version: String)